


eksctl create cluster --my-cluster-1187 --region ap-south-1 --fargate


aws iam create-policy --policy-name AWSLoadBalancerControllerIAMPolicy --policy-document file://iam_policy.json


eksctl create fargateprofile --cluster my-cluster-1187 --region ap-south-1 --name alb-sample-app --namespace game-2048


kubectl apply -f https://raw.githubusercontent.com/kubernetes-sigs/aws-load-balancer-controller/v2.5.4/docs/examples/2048/2048_full.yaml

kubectl get pods -n game-2048
kubectl get pods -n game-2048 -w

kubectl get svc -n game-2048 
kubectl get ingress -n game-2048



eksctl utils associate-iam-oidc-provider --cluster my-cluster-1187 --approve


Invoke-WebRequest `
-Uri https://raw.githubusercontent.com/kubernetes-sigs/aws-load-balancer-controller/v2.11.0/docs/install/iam_policy.json `
-OutFile iam_policy.json


aws iam create-policy --policy-name AWSLoadBalancerControllerIAMPolicy --policy-document file://iam_policy.json




eksctl create iamserviceaccount --cluster=my-cluster-1187 --namespace=kube-system --name=aws-load-balancer-controller --role-name AmazonEKSLoadBalancerControllerRole --attach-policy-arn=arn:aws:iam::724772054637:policy/AWSLoadBalancerControllerIAMPolicy --approve


helm repo add eks https://aws.github.io/eks-charts

helm repo update eks


helm install aws-load-balancer-controller eks/aws-load-balancer-controller -n kube-system --set clusterName=my-cluster-1187 --set serviceAccount.create=false --set serviceAccount.name=aws-load-balancer-controller --set region=ap-south-1 --set vpcId=vpc-0a7a39af9ed39e556

kubectl get deployment -n kube-system aws-load-balancer-controller
kubectl get pods -n kube-system -w
kubectl get ingress -n game-204


kubectl edit deploy/aws-load-balancer-controller -n kube-system


for deleting:--->>


kubectl delete ingress ingress-2048 -n game-2048
kubectl get ingress -n game-2048


kubectl delete svc service-2048 -n game-2048
kubectl get svc -n game-2048


kubectl delete deployment deployment-2048 -n game-2048
kubectl get pods -n game-2048


kubectl delete ns game-2048
kubectl get ns


helm uninstall aws-load-balancer-controller -n kube-system
kubectl get pods -n kube-system
aws-load-balancer-controller:-->>"xx"


eksctl delete iamserviceaccount --cluster my-cluster-1187 --namespace kube-system --name aws-load-balancer-controller


eksctl get fargateprofile --cluster my-cluster-1187
eksctl delete fargateprofile --cluster my-cluster-1187 --name alb-sample-app
eksctl delete fargateprofile --cluster my-cluster-1187 --name fp-default



eksctl delete cluster --name my-cluster-1187 --region ap-south-1
eksctl get cluster






